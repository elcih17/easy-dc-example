<html lang="js">
  <head>
    <script src="https://plaidev.github.io/easy-dc-dash/dist/bundle.browser.js"></script>
  </head>

  <style>
    .flex-row {
      display: flex;
      flex-direction: row;
    }
    .flex-col {
      display: flex;
      flex-direction: column;
    }
  </style>

  <body>
    <easy-dc-dataset
      csv='./data.csv'
    ></easy-dc-dataset>

    <reset-all-button></reset-all-button>

    <div class="flex-row">

      <geo-jp
        dimension='prefecture_code'
        reduce='d.total_population'
        :width=580
        :height=696
        :geo-scale=1400
        :remove-pref-suffix=false
      ></geo-jp>

      <div class="flex-col">

        <div class="flex-row">
          <number-display
            title="total_population"
            reduce="total_population"
            unit-postfix="äºº"
          ></number-display>
        </div>

        <div class="flex-row">
          <ordinal-bar
            dimension="prefecture_name"
            reduce="male_population"
          ></ordinal-bar>

          <ordinal-bar
            dimension="prefecture_name"
            reduce="female_population"
          ></ordinal-bar>
        </div>

        <div class="flex-row">
          <list-row
            dimension="prefecture_name"
            reduce="male_population"
          ></list-row>

          <list-row
            dimension="prefecture_name"
            reduce="female_population"
          ></list-row>
        </div>

        <div class="flex-row">
          <data-table
            dimension="d.prefecture_name"
            columns="{code: d.prefecture_code, name: d.prefecture_name, total: d.total_population, male: d.male_population, female: d.female_population}"
            sort-by="total_population"
            order="descending"
            width='auto'
            :use-table-paging='true'
            :offset=0
            :rows-per-page=5
          ></data-table>
        </div>
      </div>
    </div>
  </body>

  <script type="text/javascript">
    EasyDC.run()
  </script>
</html>